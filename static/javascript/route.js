var snapRoute,route,snapDot,dot,routeActive;

var routeEnabled = false;

jQuery(document).ready(function(){

  if(routeEnabled){

    if( $('body').hasClass('body-part') && ( $(window).width() > 767 ) ){
        
      snapRoute = Snap("#route-svg"); 

      if($('body').hasClass('body-part1')){
        pathD = 'M0,189.8c9.3,0.4,19.4,1.1,27.7,5.1 c4.9,2.4,8.5,5.9,11.6,10c7.4,9.4,14.8,19.4,17.9,30.8c1.4,5.2,2,10.5,2.2,15.7c0.2,4.4,0.8,9.3-0.9,13.5 c-1.9,4.6-7.2,7.2-10.8,10.6c-4.1,3.7-5.7,8.3-6.1,13.5c-0.6,5.8-0.3,11.8,0.2,17.6c0.5,5.9,1.8,11.7,4.2,17.2 c2.2,4.9,4.8,9.7,8.3,14c1.7,2,3.6,3.8,5.8,5.3c1.9,1.2,3.9,2.2,5.9,3.3c2.2,1.3,4.1,2.8,5.4,4.9c1,1.7,1.5,3.7,1.8,5.7 c0.7,5.1,0.5,10.4,0.5,15.6c0,12.2-0.7,24.2-3,36.3c-1.9,10.5-4.8,20.8-6.7,31.4s-2.6,21.3-2.7,32c-0.1,5.1,0,10.2,0.2,15.3 c0.2,4.6,0.6,9.2,1.6,13.7c0.7,3,2,5.8,3,8.7c1.5,4.1,1.2,8.9-1.1,12.8c-2.8,4.6-8.6,7.1-13.6,9.2c-4.8,2.1-9.8,4.5-10.8,9.7 c-0.8,4.2,0.6,9.5,5.2,11.6c2.5,1.1,5.3,1.5,7.9,2.5c2.2,0.8,4.1,1.9,5.8,3.3c7.1,6,8,15.3,8.2,23.5c0.3,10.7-0.2,21.4-0.7,32.1 c-0.6,12.1-1.5,24.2-3.1,36.1c-1.6,11.9-3.8,23.7-5.4,35.7c-1.6,12.1-2.4,24.2-2.2,36.4c0.2,11.7,1.2,23.4,3,35 c1.7,11.3,4.4,22.4,7.2,33.6s5.3,22.3,6.8,33.6c1.4,10.9,1.9,21.9-0.3,32.7c-1,4.9-2.5,9.8-3.8,14.7c-1.4,5.3-2.8,10.7-3.8,16.1 c-2.1,10.9-2.8,22-2.7,33.1c0.1,11.7,0.7,23.4,2,35.1c1.2,11.1,3,22,6.8,32.7c3.3,9.1,7.4,17.8,8.2,27.4c0.6,8-0.2,16.2-0.7,24.2 c-0.4,5.8-0.9,11.6-1.2,17.3';
      }
      else if($('body').hasClass('body-part2')){
        pathD = 'M0,251c11.7,0.5,24.3,1.4,34.8,6.3 c6.2,2.9,10.6,7.3,14.6,12.3c9.3,11.6,18.5,24,22.4,38c1.8,6.4,2.5,12.9,2.7,19.4c0.2,5.4,1,11.5-1.1,16.6c-2.4,5.7-9,8.9-13.6,13.1 c-5.1,4.6-7.1,10.3-7.7,16.6c-0.7,7.2-0.4,14.5,0.2,21.7c0.6,7.3,2.3,14.4,5.3,21.2c2.7,6,6,12,10.4,17.3c2.1,2.5,4.5,4.7,7.3,6.5 c2.4,1.5,4.9,2.7,7.4,4.1c2.7,1.6,5.2,3.5,6.8,6.1c1.3,2.1,1.9,4.6,2.3,7c0.9,6.3,0.6,12.8,0.6,19.2c0,15-0.9,29.9-3.7,44.8 c-2.4,13-6,25.7-8.4,38.7c-2.4,13-3.3,26.3-3.4,39.5c-0.1,6.3,0,12.6,0.3,18.9c0.3,5.7,0.7,11.4,2,16.9c0.9,3.7,2.5,7.1,3.8,10.7 c1.9,5.1,1.5,11-1.4,15.8c-3.5,5.7-10.8,8.7-17.1,11.4c-6,2.6-12.3,5.6-13.6,12c-1,5.2,0.7,11.7,6.5,14.3c3.1,1.4,6.7,1.9,9.9,3.1 c2.7,1,5.2,2.4,7.3,4.1c8.9,7.4,10,18.9,10.3,29c0.4,13.2-0.3,26.4-0.9,39.6c-0.8,14.9-1.9,29.8-3.9,44.6c-2,14.7-4.8,29.3-6.8,44.1 c-2,14.9-3,29.9-2.7,44.9c0.3,14.4,1.5,28.9,3.7,43.2c2.1,13.9,5.5,27.7,9,41.4c3.5,13.7,6.7,27.5,8.5,41.5 c1.7,13.4,2.4,27-0.4,40.3c-1.3,6.1-3.1,12.1-4.8,18.1c-1.8,6.6-3.5,13.2-4.8,19.9c-2.6,13.5-3.5,27.1-3.4,40.8 c0.1,14.4,0.9,28.9,2.5,43.3c1.5,13.7,3.8,27.2,8.5,40.3c4.1,11.2,9.3,22,10.3,33.8c0.8,9.9-0.2,20-0.9,29.9 c-0.5,7.1-1.1,14.3-1.5,21.4';
      }
      else if($('body').hasClass('body-part3')){
        pathD = 'M0,251c11.7,0.5,24.3,1.4,34.8,6.3 c6.2,2.9,10.6,7.3,14.6,12.3c9.3,11.6,18.5,24,22.4,38c1.8,6.4,2.5,12.9,2.7,19.4c0.2,5.4,1,11.5-1.1,16.6c-2.4,5.7-9,8.9-13.6,13.1 c-5.1,4.6-7.1,10.3-7.7,16.6c-0.7,7.2-0.4,14.5,0.2,21.7c0.6,7.3,2.3,14.4,5.3,21.2c2.7,6,6,12,10.4,17.3c2.1,2.5,4.5,4.7,7.3,6.5 c2.4,1.5,4.9,2.7,7.4,4.1c2.7,1.6,5.2,3.5,6.8,6.1c1.3,2.1,1.9,4.6,2.3,7c0.9,6.3,0.6,12.8,0.6,19.2c0,15-0.9,29.9-3.7,44.8 c-2.4,13-6,25.7-8.4,38.7c-2.4,13-3.3,26.3-3.4,39.5c-0.1,6.3,0,12.6,0.3,18.9c0.3,5.7,0.7,11.4,2,16.9c0.9,3.7,2.5,7.1,3.8,10.7 c1.9,5.1,1.5,11-1.4,15.8c-3.5,5.7-10.8,8.7-17.1,11.4c-6,2.6-12.3,5.6-13.6,12c-1,5.2,0.7,11.7,6.5,14.3c3.1,1.4,6.7,1.9,9.9,3.1 c2.7,1,5.2,2.4,7.3,4.1c8.9,7.4,10,18.9,10.3,29c0.4,13.2-0.3,26.4-0.9,39.6c-0.8,14.9-1.9,29.8-3.9,44.6c-2,14.7-4.8,29.3-6.8,44.1 c-2,14.9-3,29.9-2.7,44.9c0.3,14.4,1.5,28.9,3.7,43.2c2.1,13.9,5.5,27.7,9,41.4c3.5,13.7,6.7,27.5,8.5,41.5 c1.7,13.4,2.4,27-0.4,40.3c-1.3,6.1-3.1,12.1-4.8,18.1c-1.8,6.6-3.5,13.2-4.8,19.9c-2.6,13.5-3.5,27.1-3.4,40.8 c0.1,14.4,0.9,28.9,2.5,43.3c1.5,13.7,3.8,27.2,8.5,40.3c4.1,11.2,9.3,22,10.3,33.8c0.8,9.9-0.2,20-0.9,29.9 c-0.5,7.1-1.1,14.3-1.5,21.4';
      }  


      route = snapRoute.path(pathD).attr({
        id: "route-path",
        fill: "none",
        strokeWidth: "4",
        stroke: "#ccc"
      });

      var snapDot = Snap("#dot-svg");   

      dot = snapDot.circle(-100, -100, 8);

      dot.attr({
          fill: "#fff",
          stroke: "#ccc",
          strokeWidth: 3
      });  

      routeActive = true;

    }

  }

});


function routeMove(){
  //console.log('routeMove');

  wh = $(window).height();
  ww = $(window).width();

  documentHeight = $(document).height() - wh;
  scrollPosition = $(window).scrollTop();
  progress = scrollPosition / documentHeight;

  routeLength = route.getTotalLength();
  t = routeLength * progress;
  newPoint = route.getPointAtLength( t );

  dot.attr({
      cx: newPoint.x,
      cy: newPoint.y
  });  

}

